Version 4
SHEET 1 1564 740
WIRE 1312 80 1312 0
WIRE 1152 96 1104 96
WIRE 1392 96 1376 96
WIRE 1216 112 1200 112
WIRE 1232 112 1232 80
WIRE 1232 112 1216 112
WIRE 1248 112 1232 112
WIRE 128 144 128 96
WIRE 176 144 176 96
WIRE 176 144 128 144
WIRE 224 144 224 96
WIRE 224 144 176 144
WIRE 240 144 224 144
WIRE 608 144 608 96
WIRE 640 144 608 144
WIRE 672 144 672 96
WIRE 672 144 640 144
WIRE 720 144 720 96
WIRE 720 144 672 144
WIRE 736 144 720 144
WIRE 1008 144 1008 96
WIRE 1008 144 976 144
WIRE -32 160 -32 128
WIRE 64 160 64 128
WIRE 416 160 416 128
WIRE 512 160 512 128
WIRE 176 176 176 144
WIRE 640 176 640 144
WIRE 720 192 720 144
WIRE 1008 192 1008 144
WIRE 1152 192 1104 192
WIRE 1216 208 1200 208
WIRE 1232 208 1232 176
WIRE 1232 208 1216 208
WIRE 1248 208 1232 208
WIRE 1392 224 1376 224
WIRE -32 256 -32 240
WIRE 64 256 64 240
WIRE 176 256 176 240
WIRE 416 256 416 240
WIRE 512 256 512 240
WIRE 640 256 640 240
WIRE 1312 304 1312 240
WIRE 128 592 128 528
WIRE 688 592 688 528
WIRE 80 688 80 656
WIRE 128 688 128 672
WIRE 640 688 640 656
WIRE 688 688 688 672
FLAG 176 256 0
FLAG 64 256 0
FLAG -32 256 0
FLAG 640 256 0
FLAG 64 128 FB
IOPIN 64 128 Out
FLAG -32 128 FA
IOPIN -32 128 Out
FLAG 128 96 FA
IOPIN 128 96 In
FLAG 176 96 FB
IOPIN 176 96 In
FLAG 416 256 0
FLAG 608 96 MA
IOPIN 608 96 In
FLAG 416 128 MA
IOPIN 416 128 Out
FLAG 512 128 MB
IOPIN 512 128 Out
FLAG 512 256 0
FLAG 672 96 MB
IOPIN 672 96 In
FLAG 784 192 Phi
IOPIN 784 192 Out
FLAG 240 144 vx
IOPIN 240 144 Out
FLAG 1152 128 vx
IOPIN 1152 128 In
FLAG 1152 224 vx
IOPIN 1152 224 In
FLAG 1232 80 Xv
IOPIN 1232 80 Out
FLAG 1232 176 Yv
IOPIN 1232 176 Out
FLAG 1392 96 X
IOPIN 1392 96 Out
FLAG 1392 224 Y
IOPIN 1392 224 Out
FLAG 976 144 Phi
IOPIN 976 144 In
FLAG 16 624 vx
IOPIN 16 624 In
FLAG 128 688 0
FLAG 80 688 0
FLAG 128 528 FRx
IOPIN 128 528 Out
FLAG 224 96 FRx
IOPIN 224 96 In
FLAG 688 688 0
FLAG 640 688 0
FLAG 688 528 MR
IOPIN 688 528 Out
FLAG 736 144 omega
IOPIN 736 144 Out
FLAG 576 624 omega
IOPIN 576 624 In
FLAG 720 96 MR
IOPIN 720 96 In
SYMBOL cap 160 176 R0
SYMATTR InstName C1
SYMATTR Value {Ms}
SYMATTR SpiceLine Rser=0 Rpar=100Meg
SYMBOL current 64 240 R180
WINDOW 0 24 80 Left 2
WINDOW 3 -229 -98 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName FB
SYMATTR Value PULSE(0 {FB} 0 1e-9 1e-9 {B_ON})
SYMBOL current -32 240 R180
WINDOW 0 24 80 Left 2
WINDOW 3 -324 -64 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName FA
SYMATTR Value PULSE(0 {FA} 0 1e-9 1e-9 {A_ON})
SYMBOL cap 624 176 R0
SYMATTR InstName C2
SYMATTR Value {Js}
SYMATTR SpiceLine Rser=0 Rpar=100Meg
SYMBOL current 416 160 R0
WINDOW 0 24 80 Left 2
WINDOW 3 -46 141 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName MA
SYMATTR Value PULSE(0 {IA} 0 1e-9 1e-9 {A_ON})
SYMBOL current 512 160 R0
WINDOW 0 24 80 Left 2
WINDOW 3 -141 178 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName MB
SYMATTR Value PULSE(0 {IB} 0 1e-9 1e-9 {B_ON})
SYMBOL Math\\cos 1056 96 R0
SYMATTR InstName U3
SYMBOL Math\\Mul2 1184 112 R0
SYMATTR InstName U2
SYMBOL Math\\Mul2 1184 208 R0
SYMATTR InstName U4
SYMBOL Math\\sin 1056 192 R0
SYMATTR InstName U5
SYMBOL Math\\Idt 752 192 R0
SYMATTR InstName U6
SYMBOL Math\\Idt 1280 112 R0
SYMATTR InstName U1
SYMBOL Math\\Idt 1280 208 R0
SYMATTR InstName U7
SYMBOL Math\\Mul2 48 608 R0
SYMATTR InstName U8
SYMBOL Math\\Const -32 592 R0
SYMATTR Value c0={Kx}
SYMATTR InstName U9
SYMBOL g2 128 576 R0
SYMATTR InstName G1
SYMATTR Value 1
SYMBOL g2 688 576 R0
SYMATTR InstName G2
SYMATTR Value 1
SYMBOL Math\\Mul2 608 608 R0
SYMATTR InstName U10
SYMBOL Math\\Const 528 592 R0
SYMATTR Value c0={Kt}
SYMATTR InstName U11
SYMBOL Math\\Add2 1344 96 R0
SYMATTR InstName U12
SYMBOL Math\\Add2 1344 224 R0
SYMATTR InstName U13
SYMBOL Math\\Const 1264 304 R0
SYMATTR Value c0={Y0}
SYMATTR InstName U14
SYMBOL Math\\Const 1264 0 R0
SYMATTR Value c0={X0}
SYMATTR InstName U15
TEXT -416 16 Left 2 !.tran {T}
TEXT 64 -96 Left 2 !.param FA=5
TEXT 64 -72 Left 2 !.param FB=6
TEXT 168 -336 Left 4 ;Schiffsdynamik (AB 15)
TEXT 72 -128 Left 2 ;X-Achse
TEXT 64 -48 Left 2 !.param Ms=100
TEXT -32 -96 Left 2 ;Motor A
TEXT -32 -72 Left 2 ;Motor B
TEXT -72 -48 Left 2 ;Masse USV
TEXT 504 -128 Left 2 ;Z-Achse
TEXT 496 -96 Left 2 !.param IA=FA*a
TEXT 496 -72 Left 2 !.param IB=-FB*a
TEXT 376 -96 Left 2 ;Moment A
TEXT 376 -72 Left 2 ;Moment B
TEXT 1016 -120 Left 2 ;Koordinatentransformation
TEXT 376 -24 Left 2 ;Massenträgheitsmoment
TEXT 664 -24 Left 2 !.parm Js=10
TEXT 168 -296 Left 2 ;Autor: Jörg Grabow (CC BY-NC-SA 4.0)
TEXT -592 16 Left 2 ;Simulationszeit
TEXT 496 -48 Left 2 !.param a=0.5
TEXT 376 -48 Left 2 ;Abstand
TEXT -416 -48 Left 2 !.param A_ON=T
TEXT -416 -16 Left 2 !.param B_ON=T
TEXT -512 -128 Left 2 ;Simulationsparameter
TEXT -552 -48 Left 2 ;Motor A ON
TEXT -552 -16 Left 2 ;Motor B ON
TEXT -416 -80 Left 2 !.param T=60
TEXT -104 480 Left 2 !.param kx=40
TEXT -592 -80 Left 2 ;Simulationszeit
TEXT 368 480 Left 2 !.param kt=5
TEXT 0 440 Left 2 ;Reibung in x
TEXT 520 440 Left 2 ;Reibung um z
TEXT -64 -224 Left 2 ;https://github.com/Feinmechaniker/Mechatronik/tree/Mechatronik/00 AB/99 Tools/01 LTSpice
TEXT -64 -256 Left 2 ;notwendige Bibliotheken: math.lib sowie /sym/math/*.*
TEXT 1192 -80 Left 2 !.param X0=1 Y0=1
TEXT 936 -80 Left 2 ;Anfangsbedingungen
RECTANGLE Normal 304 368 -128 -160 2
RECTANGLE Normal 848 368 352 -160 2
RECTANGLE Normal 1440 368 912 -160 2
RECTANGLE Normal -176 368 -608 -160 2
RECTANGLE Normal 848 736 352 416 2
RECTANGLE Normal -128 736 304 416 2
